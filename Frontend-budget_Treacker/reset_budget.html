<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reset</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div class="container">
    <aside class="sidebar">
      <h2>MyWallet</h2>
      <nav>
        <a href="main.html"><img class="icon" src="asset/dashboard (1).png"> Dashboard</a>
        <a href="add_income.html"><img src="asset/services.png" class="icon"> Add Income</a>
        <a href="add_expense.html"><img src="asset/spending.png" class="icon"> Add Expense</a>
        <a href="view_all_exp.html"><img src="asset/research.png" class="icon"> View All</a>
        <a href="reset_budget.html" class="active"><img src="asset/circle-of-two-clockwise-arrows-rotation.png" class="icon"> Reset</a>
      </nav>
    </aside>
    <div class="reset">
        <h2>Reset Budget</h2>
        <p>This will delete all income and expenses.</p>
        <button onclick="confirmReset()">Reset Now</button>
    </div>
    <script>
        function confirmReset() {
            if (confirm("Are you sure you want to reset your budget?")) {
                const user_id = localStorage.getItem("user_id");
        
                fetch(`http://localhost:8080/reset_budget?user_id=${user_id}`, {
                    method: "POST"
                })
                .then(res => res.text())
                .then(msg => alert(msg))
                .catch(err => alert("Reset failed: " + err));
            }
        }
        </script>
        

</body>
</html>