
<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>PulseBudget · Track What Matters</title>
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&display=swap"
			rel="stylesheet"
		/>
		<script>
			window.tailwind = window.tailwind || {};
			window.tailwind.config = {
				theme: {
					extend: {
						colors: {
							midnight: '#0f172a',
							glow: '#a855f7',
							sunbeam: '#fcd34d',
							surf: '#67e8f9',
						},
						fontFamily: {
							display: ['"Space Grotesk"', 'sans-serif'],
						},
					},
				},
			};
		</script>
		<script src="https://cdn.tailwindcss.com"></script>
		<link rel="stylesheet" href="frontend/css/style.css" />
	</head>
	<body class="min-h-screen bg-midnight text-slate-100 font-display relative">
		<div class="grid-overlay" aria-hidden="true"></div>
		<div class="orb orb-one" aria-hidden="true"></div>
		<div class="orb orb-two" aria-hidden="true"></div>

		<div class="relative z-10">
			<main class="max-w-6xl mx-auto px-6 pb-16 space-y-10">
				<section id="auth-section" class="grid gap-6 md:grid-cols-2">
					<article class="card">
						<div class="flex items-center justify-between mb-6">
							<div>
								<h2 class="text-2xl font-semibold">Create account</h2>
								<p class="text-sm text-slate-400">Insert a user row in MySQL instantly.</p>
							</div>
							<span class="badge">POST /register</span>
						</div>
						<form id="register-form" class="space-y-4">
							<label class="field">
								<span>Full name</span>
								<input type="text" name="name" placeholder="Ava Patel" required />
							</label>
							<label class="field">
								<span>Email</span>
								<input type="email" name="email" placeholder="ava@pulse.dev" required />
							</label>
							<div class="grid gap-4 md:grid-cols-2">
								<label class="field">
									<span>Username</span>
									<input type="text" name="username" placeholder="ava" required />
								</label>
								<label class="field">
									<span>Password</span>
									<input type="password" name="password" placeholder="••••••••" required />
								</label>
							</div>
							<button class="btn-primary w-full" type="submit">Register user</button>
						</form>
					</article>

					<article class="card">
						<div class="flex items-center justify-between mb-6">
							<div>
								<h2 class="text-2xl font-semibold">Sign in</h2>
								<p class="text-sm text-slate-400">Retrieve your `user_id` for secure calls.</p>
							</div>
							<span class="badge">POST /signin</span>
						</div>
						<form id="signin-form" class="space-y-4">
							<label class="field">
								<span>Username</span>
								<input type="text" name="username" placeholder="ava" required />
							</label>
							<label class="field">
								<span>Password</span>
								<input type="password" name="password" placeholder="••••••••" required />
							</label>
							<button class="btn-secondary w-full" type="submit">Sign in</button>
						</form>
					</article>
				</section>

				<section id="dashboard" class="space-y-8 hidden">
					<div class="flex flex-col gap-4 md:flex-row md:items-center md:justify-between">
						<div>
							<p class="text-xs uppercase tracking-[0.3em] text-slate-400">My ledger</p>
							<h2 class="text-3xl font-semibold mt-2">Welcome back, <span id="username-chip">—</span></h2>
						</div>
						<div class="flex flex-wrap gap-3">
							<button id="signout-btn" type="button" class="btn-tertiary">Sign out</button>
							<button id="reset-btn" type="button" class="btn-outline">Reset budget</button>
						</div>
					</div>

					<div class="grid gap-4 md:grid-cols-3" id="summary-grid">
						<article class="summary-card">
							<header>
								<p class="text-xs text-slate-400">Total income</p>
								<span class="badge">GET /budget</span>
							</header>
							<p class="value" id="budget-income">$0</p>
						</article>
						<article class="summary-card">
							<header>
								<p class="text-xs text-slate-400">Total expenses</p>
								<span class="badge">GET /budget</span>
							</header>
							<p class="value" id="budget-expense">$0</p>
						</article>
						<article class="summary-card">
							<header>
								<p class="text-xs text-slate-400">Balance</p>
								<span class="badge">derived</span>
							</header>
							<p class="value" id="budget-balance">$0</p>
						</article>
					</div>

					<div class="grid gap-6 lg:grid-cols-2">
						<article class="card">
							<div class="flex items-center justify-between mb-6">
								<div>
									<h3 class="text-xl font-semibold">Add income</h3>
									<p class="text-sm text-slate-400">Persist a new row in the income table.</p>
								</div>
								<span class="badge">POST /add_income</span>
							</div>
							<form id="income-form" class="space-y-4">
								<label class="field">
									<span>Amount</span>
									<input type="number" name="amount" min="1" placeholder="3200" required />
								</label>
								<button class="btn-primary w-full" type="submit">Record income</button>
							</form>
						</article>

						<article class="card">
							<div class="flex items-center justify-between mb-6">
								<div>
									<h3 class="text-xl font-semibold">Add expense</h3>
									<p class="text-sm text-slate-400">Only succeeds if balance allows it.</p>
								</div>
								<span class="badge">POST /add_expense</span>
							</div>
							<form id="expense-form" class="space-y-4">
								<label class="field">
									<span>Label</span>
									<input type="text" name="name" placeholder="Studio rent" required />
								</label>
								<label class="field">
									<span>Amount</span>
									<input type="number" name="amount" min="1" placeholder="1200" required />
								</label>
								<button class="btn-secondary w-full" type="submit">Record expense</button>
							</form>
						</article>
					</div>

					<article class="card">
						<div class="flex flex-wrap items-center justify-between gap-4 mb-6">
							<div>
								<h3 class="text-xl font-semibold">Expense ledger</h3>
								<p class="text-sm text-slate-400">Streaming live from the expenses table.</p>
							</div>
							<span class="badge">GET /all_expenses</span>
						</div>
						<ul id="expense-list" class="divide-y divide-white/5"></ul>
						<p id="expense-empty" class="text-center text-slate-500 text-sm py-6">No expenses yet. Create your first one.</p>
					</article>

					<article class="card space-y-5">
						<div class="flex flex-wrap items-center justify-between gap-4">
							<div>
								<h3 class="text-xl font-semibold">AI prediction</h3>
								<p class="text-sm text-slate-400">Ask anything about your budget and let the model mine your ledger.</p>
							</div>
							<span class="badge">POST /ai_predict</span>
						</div>
						<form id="ai-form" class="flex flex-col gap-3 md:flex-row" autocomplete="off">
							<input
								id="ai-question"
								type="text"
								class="flex-1 rounded-2xl border border-white/10 bg-white/5 px-4 py-3 text-base text-white placeholder:text-slate-400 focus:border-sunbeam focus:outline-none"
								placeholder="How much could I save if I cut dining by 20%?"
								required
							/>
							<button type="submit" class="btn-primary whitespace-nowrap px-6 py-3 text-sm">Ask Pulse AI</button>
						</form>
						<div class="rounded-2xl border border-white/10 bg-white/5 p-4">
							<p class="text-[11px] uppercase tracking-[0.3em] text-slate-400">AI response</p>
							<p class="mt-2 text-sm text-slate-200" id="ai-response">Connect and ask a question to receive insight.</p>
						</div>
					</article>
				</section>
			</main>
		</div>

		<div id="toast" class="toast" role="status" aria-live="polite"></div>

		<script src="frontend/js/script.js" type="module"></script>
	</body>
</html>
